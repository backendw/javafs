<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /*  
            widnow.addEventListener(이벤트명, 함수) ~ 이벤트 등록 내장함수
            로드 이벤트 종류
                - load ~ 모든 컨텐츠가 로딩후 발생(이미지, 동영상 등 모두 불러온 후 발생)
                - DOMContentLoaded ~ html태그가 모두 로딩 후 발생(태그만 읽으면 바로 실행하므로 load보다 빠르다.) 
        */

        // 매개값이 없으면 함수 호출 시 소괄호 없이 함수 이름(setFn)만 쓴다.
        window.addEventListener("DOMContentLoaded", setFn);

        // 매개값이 있으면 익명함수 안에서 매개값과 같이 호출하거나 실행코드를 직접 작성한다.
        // 익명함수는 코드를 바로 실행하지 않고 이벤트가 발생하면 함수안의 코드를 실행시킨다.
        /* 
            window.addEventListener("DOMContentLoaded", function(){
                setFn(매개값);
            });
        */

        function setFn() {
            //console.log("이벤트설정!");
            const btns = document.querySelectorAll('.btns');
            const cnt = btns.length;
            //console.log("버튼들:",btns,"/개수:",cnt);

            for (let i=0; i<cnt; i++) {
                // 방법1: onclick 이벤트 속성에 익명함수 할당 방식 사용
                // btns.item(i).onclick = function(){chgImg(this)};
                btns[i].onclick = function(){chgImg(this)};
                
                // 방법2: 이벤트 등록 내장함수 사용
                // btns[i].addEventListener('click', function(){
                //     chgImg(this);
                // });
            }
        }

        function chgImg(ele) {
            let btxt = ele.innerText;
            //console.log(btxt);

            let isrc;

            if (btxt === '포스터') {
                isrc = '/assets/images/ala1.jpg';
            } else if (btxt === '장면1') {
                isrc = '/assets/images/ala4.jpg';
            } else if (btxt === '장면2') {
                isrc = '/assets/images/ala3.jpg';
            } else if (btxt === '장면3') {
                isrc = '/assets/images/ala2.jpg';
            }

            console.log(isrc);
            document.querySelector('#scene').setAttribute('src',isrc);
            // document.querySelector('#scene').src = isrc;
        }
    </script>
</head>
<body>
    <h1>버튼 클릭 시 이미지 변경하기</h1>
    <!-- 스틸컷 장면 박스 -->
    <div class="photo">
        <img src="/assets/images/ala1.jpg" alt="알라딘스킬컷" id="scene">
    </div>

    <!-- 선택버튼박스 -->
    <div class="btnbx">
        <button class="btns">포스터</button>
        <button class="btns">장면1</button>
        <button class="btns">장면2</button>
        <button class="btns">장면3</button>
    </div>
</body>
</html>